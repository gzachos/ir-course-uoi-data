
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Type punning - Wikipedia</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"XpcsBQpAICoAABsfBjQAAABN","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Type_punning","wgTitle":"Type punning","wgCurRevisionId":941900503,"wgRevisionId":941900503,"wgArticleId":8077294,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles needing additional references from October 2011","All articles needing additional references","Wikipedia articles with style issues from October 2011","All articles with style issues","Articles with multiple maintenance issues","Articles with example C code","Articles with example Pascal code",
"Programming constructs"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Type_punning","wgRelevantArticleId":8077294,"wgIsProbablyEditable":!0,"wgRelevantPageIsProbablyEditable":!0,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMediaViewerOnClick":!0,"wgMediaViewerEnabledByDefault":!0,"wgPopupsReferencePreviews":!1,"wgPopupsConflictsWithNavPopupGadget":!1,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":!0,"nearby":!0,"watchlist":!0,"tagline":!1},"wgWMESchemaEditAttemptStepOversample":!1,"wgULSCurrentAutonym":"English","wgNoticeProject":"wikipedia","wgWikibaseItemId":"Q7860909","wgCentralAuthMobileDomain":!1,"wgEditSubmitButtonLabelPublish":!0};RLSTATE={"ext.globalCssJs.user.styles":"ready","site.styles":"ready","noscript":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","user":"ready","user.options":"loading",
"ext.pygments":"ready","ext.cite.styles":"ready","jquery.makeCollapsible.styles":"ready","mediawiki.toc.styles":"ready","skins.vector.styles.legacy":"ready","wikibase.client.init":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","ext.wikimediaBadges":"ready"};RLPAGEMODULES=["ext.cite.ux-enhancements","site","mediawiki.page.startup","skins.vector.js","mediawiki.page.ready","jquery.makeCollapsible","mediawiki.toc","ext.gadget.ReferenceTooltips","ext.gadget.charinsert","ext.gadget.refToolbar","ext.gadget.extra-toolbar-buttons","ext.gadget.switcher","ext.centralauth.centralautologin","mmv.head","mmv.bootstrap.autostart","ext.popups","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.uls.compactlinks","ext.uls.interface","ext.cx.eventlogging.campaigns","ext.quicksurveys.init","ext.centralNotice.geoIP","ext.centralNotice.startUp"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.cite.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cjquery.makeCollapsible.styles%7Cmediawiki.toc.styles%7Cskins.vector.styles.legacy%7Cwikibase.client.init&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.0-wmf.27"/>
<meta name="referrer" content="origin"/>
<meta name="referrer" content="origin-when-crossorigin"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Type_punning&amp;action=edit"/>
<link rel="edit" title="Edit this page" href="/w/index.php?title=Type_punning&amp;action=edit"/>
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png"/>
<link rel="shortcut icon" href="/static/favicon/wikipedia.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//en.wikipedia.org/w/api.php?action=rsd"/>
<link rel="license" href="//creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="https://en.wikipedia.org/wiki/Type_punning"/>
<link rel="dns-prefetch" href="//login.wikimedia.org"/>
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Type_punning rootpage-Type_punning skin-vector action-view">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"><!-- CentralNotice --></div>
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Type punning</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From Wikipedia, the free encyclopedia</div>
		<div id="contentSub"></div>
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><table class="box-Multiple_issues plainlinks metadata ambox ambox-content ambox-multiple_issues compact-ambox" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/40px-Ambox_important.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/60px-Ambox_important.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/80px-Ambox_important.svg.png 2x" data-file-width="40" data-file-height="40" /></div></td><td class="mbox-text"><div class="mbox-text-span"><div class="mw-collapsible" style="width:95%; margin: 0.2em 0;"><b>This article has multiple issues.</b> Please help <b><a class="external text" href="https://en.wikipedia.org/w/index.php?title=Type_punning&amp;action=edit">improve it</a></b> or discuss these issues on the <b><a href="/wiki/Talk:Type_punning" title="Talk:Type punning">talk page</a></b>. <small><i>(<a href="/wiki/Help:Maintenance_template_removal" title="Help:Maintenance template removal">Learn how and when to remove these template messages</a>)</i></small>
<div class="mw-collapsible-content" style="margin-top: 0.3em;">
      <table class="box-More_citations_needed plainlinks metadata ambox ambox-content ambox-Refimprove" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a href="/wiki/File:Question_book-new.svg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/50px-Question_book-new.svg.png" decoding="async" width="50" height="39" srcset="//upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/75px-Question_book-new.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/100px-Question_book-new.svg.png 2x" data-file-width="512" data-file-height="399" /></a></div></td><td class="mbox-text"><div class="mbox-text-span">This article <b>needs additional citations for <a href="/wiki/Wikipedia:Verifiability" title="Wikipedia:Verifiability">verification</a></b>.<span class="hide-when-compact"> Please help <a class="external text" href="https://en.wikipedia.org/w/index.php?title=Type_punning&amp;action=edit">improve this article</a> by <a href="/wiki/Help:Introduction_to_referencing_with_Wiki_Markup/1" title="Help:Introduction to referencing with Wiki Markup/1">adding citations to reliable sources</a>. Unsourced material may be challenged and removed.<br /><small><span class="plainlinks"><i>Find sources:</i>&#160;<a rel="nofollow" class="external text" href="//www.google.com/search?as_eq=wikipedia&amp;q=%22Type+punning%22">"Type punning"</a>&#160;–&#160;<a rel="nofollow" class="external text" href="//www.google.com/search?tbm=nws&amp;q=%22Type+punning%22+-wikipedia">news</a>&#160;<b>·</b> <a rel="nofollow" class="external text" href="//www.google.com/search?&amp;q=%22Type+punning%22+site:news.google.com/newspapers&amp;source=newspapers">newspapers</a>&#160;<b>·</b> <a rel="nofollow" class="external text" href="//www.google.com/search?tbs=bks:1&amp;q=%22Type+punning%22+-wikipedia">books</a>&#160;<b>·</b> <a rel="nofollow" class="external text" href="//scholar.google.com/scholar?q=%22Type+punning%22">scholar</a>&#160;<b>·</b> <a rel="nofollow" class="external text" href="https://www.jstor.org/action/doBasicSearch?Query=%22Type+punning%22&amp;acc=on&amp;wc=on">JSTOR</a></span></small></span>  <small class="date-container"><i>(<span class="date">October 2011</span>)</i></small><small class="hide-when-compact"><i> (<a href="/wiki/Help:Maintenance_template_removal" title="Help:Maintenance template removal">Learn how and when to remove this template message</a>)</i></small></div></td></tr></tbody></table>
<table class="box-Manual plainlinks metadata ambox ambox-style" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/40px-Edit-clear.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/60px-Edit-clear.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/80px-Edit-clear.svg.png 2x" data-file-width="48" data-file-height="48" /></div></td><td class="mbox-text"><div class="mbox-text-span">This article <b>is written like <a href="/wiki/Wikipedia:What_Wikipedia_is_not#GUIDE" title="Wikipedia:What Wikipedia is not">a manual or guidebook</a>.</b><span class="hide-when-compact"> Please help <a class="external text" href="https://en.wikipedia.org/w/index.php?title=Type_punning&amp;action=edit">rewrite this article</a> from a descriptive, <a href="/wiki/Wikipedia:Neutral_point_of_view" title="Wikipedia:Neutral point of view">neutral point of view</a>, and remove advice or instruction.</span>  <small class="date-container"><i>(<span class="date">October 2011</span>)</i></small><small class="hide-when-compact"><i> (<a href="/wiki/Help:Maintenance_template_removal" title="Help:Maintenance template removal">Learn how and when to remove this template message</a>)</i></small></div></td></tr></tbody></table>
    </div>
</div><small class="hide-when-compact"><i> (<a href="/wiki/Help:Maintenance_template_removal" title="Help:Maintenance template removal">Learn how and when to remove this template message</a>)</i></small></div></td></tr></tbody></table>
<p>In <a href="/wiki/Computer_science" title="Computer science">computer science</a>, <b>type punning</b> is a common term for any programming technique that subverts or circumvents the <a href="/wiki/Type_system" title="Type system">type system</a> of a <a href="/wiki/Programming_language" title="Programming language">programming language</a> in order to achieve an effect that would be difficult or impossible to achieve within the bounds of the formal language.
</p><p>In <a href="/wiki/C_(programming_language)" title="C (programming language)">C</a> and <a href="/wiki/C%2B%2B" title="C++">C++</a>, constructs such as <a href="/wiki/Pointer_(computer_programming)" title="Pointer (computer programming)">pointer</a> <a href="/wiki/Type_conversion" title="Type conversion">type conversion</a> and <code><a href="/wiki/Union_(computer_science)" class="mw-redirect" title="Union (computer science)">union</a></code> — C++ adds <a href="/wiki/Reference_(computer_science)" title="Reference (computer science)">reference</a> type conversion and <code>reinterpret_cast</code> to this list — are provided in order to permit many kinds of type punning, although some kinds are not actually supported by the standard language.
</p><p>In the <a href="/wiki/Pascal_(programming_language)" title="Pascal (programming language)">Pascal</a> programming language, the use of <a href="/wiki/Record_(computer_science)" title="Record (computer science)">records</a> with <a href="/wiki/Variant_type" title="Variant type">variants</a> may be used to treat a particular data type in more than one manner, or in a manner not normally permitted.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Sockets_example"><span class="tocnumber">1</span> <span class="toctext">Sockets example</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Floating-point_example"><span class="tocnumber">2</span> <span class="toctext">Floating-point example</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Use_of_union"><span class="tocnumber">3</span> <span class="toctext">Use of union</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Pascal"><span class="tocnumber">4</span> <span class="toctext">Pascal</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#C#"><span class="tocnumber">5</span> <span class="toctext">C#</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Pointers"><span class="tocnumber">5.1</span> <span class="toctext">Pointers</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Struct_unions"><span class="tocnumber">5.2</span> <span class="toctext">Struct unions</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Raw_CIL_code"><span class="tocnumber">5.3</span> <span class="toctext">Raw CIL code</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#References"><span class="tocnumber">6</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#External_links"><span class="tocnumber">7</span> <span class="toctext">External links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Sockets_example">Sockets example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=1" title="Edit section: Sockets example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>One classic example of type punning is found in the <a href="/wiki/Berkeley_sockets" title="Berkeley sockets">Berkeley sockets</a> interface. The function to bind an opened but uninitialized socket to an <a href="/wiki/IP_address" title="IP address">IP address</a> is declared as follows:
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">int</span> <span class="nf">bind</span><span class="p">(</span><span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="n">my_addr</span><span class="p">,</span> <span class="kt">socklen_t</span> <span class="n">addrlen</span><span class="p">);</span>
</pre></div>
<p>The <code>bind</code> function is usually called as follows:
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="n">sa</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">sockfd</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">sa</span><span class="p">.</span><span class="n">sin_family</span> <span class="o">=</span> <span class="n">AF_INET</span><span class="p">;</span>
<span class="n">sa</span><span class="p">.</span><span class="n">sin_port</span> <span class="o">=</span> <span class="n">htons</span><span class="p">(</span><span class="n">port</span><span class="p">);</span>
<span class="n">bind</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span> <span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">sa</span><span class="p">,</span> <span class="k">sizeof</span> <span class="n">sa</span><span class="p">);</span>
</pre></div>
<p>The Berkeley sockets library fundamentally relies on the fact that in <a href="/wiki/C_(programming_language)" title="C (programming language)">C</a>, a pointer to <code>struct sockaddr_in</code> is freely convertible to a pointer to <code>struct sockaddr</code>; and, in addition, that the two structure types share the same memory layout. Therefore, a reference to the structure field <code>my_addr-&gt;sin_family</code> (where <code>my_addr</code> is of type <code>struct sockaddr*</code>) will actually refer to the field <code>sa.sin_family</code> (where <code>sa</code> is of type <code>struct sockaddr_in</code>). In other words, the sockets library uses type punning to implement a rudimentary form of <a href="/wiki/Polymorphism_(computer_science)" title="Polymorphism (computer science)">polymorphism</a> or <a href="/wiki/Inheritance_(object-oriented_programming)" title="Inheritance (object-oriented programming)">inheritance</a>.
</p><p>Often seen in the programming world is the use of "padded" data structures to allow for the storage of different kinds of values in what is effectively the same storage space. This is often seen when two structures are used in mutual exclusivity for optimization.
</p>
<h2><span class="mw-headline" id="Floating-point_example">Floating-point example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=2" title="Edit section: Floating-point example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Not all examples of type punning involve structures, as the previous example did. Suppose we want to determine whether a <a href="/wiki/Floating-point" class="mw-redirect" title="Floating-point">floating-point</a> number is negative. We could write:
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">bool</span> <span class="nf">is_negative</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>However, supposing that floating-point comparisons are expensive, and also supposing that <code>float</code> is represented according to the <a href="/wiki/IEEE_floating-point_standard" class="mw-redirect" title="IEEE floating-point standard">IEEE floating-point standard</a>, and integers are 32 bits wide, we could engage in type punning to extract the <a href="/wiki/Sign_bit" title="Sign bit">sign bit</a> of the floating-point number using only integer operations:
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">bool</span> <span class="nf">is_negative</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="o">*</span><span class="n">ui</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">x</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">*</span><span class="n">ui</span> <span class="o">&amp;</span> <span class="mh">0x80000000</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Note that the behaviour will not be exactly the same: in the special case of <code>x</code> being <a href="/wiki/Signed_zero" title="Signed zero">negative zero</a>, the first implementation yields <code>false</code> while the second yields <code>true</code>.
</p><p>This kind of type punning is more dangerous than most. Whereas the former example relied only on guarantees made by the C programming language about structure layout and pointer convertibility, the latter example relies on assumptions about a particular system's hardware. Some situations, such as <a href="/wiki/Real-time_computing" title="Real-time computing">time-critical</a> code that the compiler otherwise fails to <a href="/wiki/Compiler_optimization" class="mw-redirect" title="Compiler optimization">optimize</a>, may require dangerous code. In these cases, documenting all such assumptions in <a href="/wiki/Comment_(computer_programming)" title="Comment (computer programming)">comments</a>, and introducing <a href="/wiki/Assertion_(computing)#Static_assertions" class="mw-redirect" title="Assertion (computing)">static assertions</a> to verify portability expectations, helps to keep the code <a href="/wiki/Maintainability" title="Maintainability">maintainable</a>.
</p><p>For a practical example popularized by <a href="/wiki/Quake_III" class="mw-redirect" title="Quake III">Quake III</a>, see <a href="/wiki/Fast_inverse_square_root" title="Fast inverse square root">fast inverse square root</a>.
</p><p>In addition to the assumption about bit-representation of floating-point numbers, the previous floating-point type-punning example also violates the C language's constraints on how objects are accessed:<sup id="cite_ref-ISOs6.5/7_1-0" class="reference"><a href="#cite_note-ISOs6.5/7-1">&#91;1&#93;</a></sup> the declared type of <code>x</code> is <code>float</code> but it is read through an expression of type <code>unsigned int</code>.  On many common platforms, this use of pointer punning can create problems if different pointers are <a href="/wiki/Data_structure_alignment" title="Data structure alignment">aligned in machine-specific ways</a>.  Furthermore, pointers of different sizes can <a href="/wiki/Aliasing_(computing)" title="Aliasing (computing)">alias accesses to the same memory</a>, causing problems that are unchecked by the compiler.
</p>
<h2><span class="mw-headline" id="Use_of_union">Use of <code>union</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=3" title="Edit section: Use of union">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>It is a common mistake to attempt to fix type-punning by the use of a <code>union</code>.  (Additionally, this example still makes the assumption about IEEE-754 bit-representation of floating-point types.)
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">bool</span> <span class="nf">is_negative</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">union</span> <span class="p">{</span>
        <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ui</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">d</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">my_union</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">x</span> <span class="p">};</span>
    <span class="k">return</span> <span class="n">my_union</span><span class="p">.</span><span class="n">ui</span> <span class="o">&amp;</span> <span class="mh">0x80000000</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Accessing <code>my_union.ui</code> after initializing the other member, <code>my_union.d</code>, is still a form of type-punning<sup id="cite_ref-2" class="reference"><a href="#cite_note-2">&#91;2&#93;</a></sup> in C and the result is <a href="/wiki/Unspecified_behavior" title="Unspecified behavior">unspecified behavior</a><sup id="cite_ref-3" class="reference"><a href="#cite_note-3">&#91;3&#93;</a></sup> (and <a href="/wiki/Undefined_behavior" title="Undefined behavior">undefined behavior</a> in C++ <sup id="cite_ref-4" class="reference"><a href="#cite_note-4">&#91;4&#93;</a></sup>).
</p><p>The language of § 6.5/7<sup id="cite_ref-ISOs6.5/7_1-1" class="reference"><a href="#cite_note-ISOs6.5/7-1">&#91;1&#93;</a></sup> can be misread to imply that reading alternative union members is permissible.  However, the text is "An object <i>shall</i> have its stored value <i>accessed only by</i>…".  It is a limiting expression, not a statement that all possible union members may be accessed regardless of which was last stored.  So, the use of the <code>union</code> avoids none of the issues with simply punning a pointer directly.
</p><p>Some compilers like <a href="/wiki/GNU_Compiler_Collection" title="GNU Compiler Collection">GCC</a> support such non-standard constructs as a language extension.<sup id="cite_ref-5" class="reference"><a href="#cite_note-5">&#91;5&#93;</a></sup>
</p><p>For another example of type punning, see <a href="/wiki/Stride_of_an_array" title="Stride of an array">Stride of an array</a>.
</p>
<h2><span class="mw-headline" id="Pascal">Pascal</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=4" title="Edit section: Pascal">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A variant record permits treating a data type as multiple kinds of data depending on which variant is being referenced.  In the following example, <i>integer</i> is presumed to be 16 bit, while <i>longint</i> and <i>real</i> are presumed to be 32, while character is presumed to be 8 bit:
</p>
<div class="mw-highlight mw-highlight-lang-pascal mw-content-ltr" dir="ltr"><pre><span></span>  <span class="k">type</span> <span class="n">variant_record</span> <span class="o">=</span> <span class="k">record</span>
     <span class="k">case</span> <span class="n">rec_type</span> <span class="o">:</span> <span class="kt">longint</span> <span class="k">of</span>
         <span class="mi">1</span><span class="o">:</span> <span class="p">(</span> <span class="n">I</span> <span class="o">:</span> <span class="k">array</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">2</span><span class="p">]</span> <span class="k">of</span> <span class="kt">integer</span> <span class="p">)</span><span class="o">;</span>
         <span class="mi">2</span><span class="o">:</span> <span class="p">(</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">longint</span> <span class="p">)</span><span class="o">;</span>
         <span class="mi">3</span><span class="o">:</span> <span class="p">(</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">real</span> <span class="p">)</span><span class="o">;</span>
         <span class="mi">4</span><span class="o">:</span> <span class="p">(</span> <span class="n">C</span> <span class="o">:</span> <span class="k">array</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">4</span><span class="p">]</span> <span class="k">of</span> <span class="n">character</span><span class="p">)</span><span class="o">;</span>
     <span class="k">end</span><span class="o">;</span>
   <span class="k">Var</span> <span class="n">V</span><span class="o">:</span> <span class="n">Variant_record</span><span class="o">;</span>
      <span class="n">K</span><span class="o">:</span> <span class="kt">Integer</span><span class="o">;</span>
      <span class="n">LA</span><span class="o">:</span> <span class="kt">Longint</span><span class="o">;</span>
      <span class="n">RA</span><span class="o">:</span> <span class="kt">Real</span><span class="o">;</span>
      <span class="n">Ch</span><span class="o">:</span> <span class="n">character</span><span class="o">;</span>
  <span class="o">...</span>
   <span class="n">V</span><span class="o">.</span><span class="n">I</span> <span class="o">:=</span> <span class="mi">1</span><span class="o">;</span>
   <span class="n">Ch</span> <span class="o">:=</span> <span class="n">V</span><span class="o">.</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">;</span>   <span class="cm">(* This would extract the first binary byte of V.I *)</span>
   <span class="n">V</span><span class="o">.</span><span class="n">R</span> <span class="o">:=</span> <span class="mf">8.3</span><span class="o">;</span>   
   <span class="n">LA</span> <span class="o">:=</span> <span class="n">V</span><span class="o">.</span><span class="n">L</span><span class="o">;</span>     <span class="cm">(* This would store a real into an integer *)</span>
</pre></div>
<p>In Pascal, copying a real to an integer converts it to the truncated value.  This method would translate the binary value of the floating-point number into whatever it is as a long integer (32 bit), which will not be the same and may be incompatible with the long integer value on some systems.
</p><p>These examples could be used to create strange conversions, although, in some cases, there may be legitimate uses for these types of constructs, such as for determining locations of particular pieces of data.  In the following example a pointer and a longint are both presumed to be 32 bit:
</p>
<div class="mw-highlight mw-highlight-lang-pascal mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">Type</span> <span class="n">PA</span> <span class="o">=</span> <span class="o">^</span><span class="n">Arec</span><span class="o">;</span>
 
    <span class="n">Arec</span> <span class="o">=</span> <span class="k">record</span>
      <span class="k">case</span> <span class="n">rt</span> <span class="o">:</span> <span class="kt">longint</span> <span class="k">of</span>
         <span class="mi">1</span><span class="o">:</span> <span class="p">(</span><span class="n">P</span><span class="o">:</span> <span class="n">PA</span><span class="p">)</span><span class="o">;</span>
         <span class="mi">2</span><span class="o">:</span> <span class="p">(</span><span class="n">L</span><span class="o">:</span> <span class="kt">Longint</span><span class="p">)</span><span class="o">;</span>
    <span class="k">end</span><span class="o">;</span>
 
  <span class="k">Var</span> <span class="n">PP</span><span class="o">:</span> <span class="n">PA</span><span class="o">;</span>
   <span class="n">K</span><span class="o">:</span> <span class="kt">Longint</span><span class="o">;</span>
  <span class="o">...</span>
   <span class="k">New</span><span class="p">(</span><span class="n">PP</span><span class="p">)</span><span class="o">;</span>
   <span class="n">PP</span><span class="o">^.</span><span class="n">P</span> <span class="o">:=</span> <span class="n">PP</span><span class="o">;</span>
   <span class="nb">Writeln</span><span class="p">(</span><span class="s">&#39;Variable PP is located at address &#39;</span><span class="o">,</span> <span class="n">hex</span><span class="p">(</span><span class="n">PP</span><span class="o">^.</span><span class="n">L</span><span class="p">))</span><span class="o">;</span>
</pre></div>
<p>Where "new" is the standard routine in Pascal for allocating memory for a pointer, and "hex" is presumably a routine to print the hexadecimal string describing the value of an integer.  This would allow the display of the address of a pointer, something which is not normally permitted.  (Pointers cannot be read or written, only assigned .)  Assigning a value to an integer variant of a pointer would allow examining or writing to any location in system memory:
</p>
<div class="mw-highlight mw-highlight-lang-pascal mw-content-ltr" dir="ltr"><pre><span></span> <span class="n">PP</span><span class="o">^.</span><span class="n">L</span> <span class="o">:=</span> <span class="mi">0</span><span class="o">;</span>
 <span class="n">PP</span> <span class="o">:=</span> <span class="n">PP</span><span class="o">^.</span><span class="n">P</span><span class="o">;</span>  <span class="cm">(*PP now points to address 0 *)</span>
 <span class="n">K</span> <span class="o">:=</span> <span class="n">PP</span><span class="o">^.</span><span class="n">L</span><span class="o">;</span>   <span class="cm">(*K contains the value of word 0 *)</span>
 <span class="nb">Writeln</span><span class="p">(</span><span class="s">&#39;Word 0 of this machine contains &#39;</span><span class="o">,</span><span class="n">K</span><span class="p">)</span><span class="o">;</span>
</pre></div>
<p>This construct may cause a program check or protection violation if address 0 is protected against reading on the machine the program is running upon or the operating system it is running under.
</p><p>The reinterpret cast technique from C/C++ also works in Pascal.
This can be useful, when eg. reading dwords from a byte stream, and we want to treat them as float.
Here is a working example, where we reinterpret-cast a dword to a float:
</p>
<div class="mw-highlight mw-highlight-lang-pascal mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">type</span>
  <span class="n">PReal</span> <span class="o">=</span> <span class="o">^</span><span class="kt">real</span><span class="o">;</span>
 <span class="k">var</span>
  <span class="n">dw</span><span class="o">:</span> <span class="kt">dword</span><span class="o">;</span>
  <span class="n">f</span><span class="o">:</span> <span class="kt">real</span><span class="o">;</span>
 <span class="o">...</span>
  <span class="n">f</span> <span class="o">:=</span> <span class="n">PReal</span><span class="p">(</span><span class="o">@</span><span class="n">dw</span><span class="p">)</span><span class="o">^;</span>
</pre></div>
<h2><span id="C.23"></span><span class="mw-headline" id="C#">C#</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=5" title="Edit section: C#">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In <a href="/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a> (and other .NET languages), type punning is a little harder to achieve because of the type system, but can be done nonetheless, using pointers or struct unions.
</p>
<h3><span class="mw-headline" id="Pointers">Pointers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=6" title="Edit section: Pointers">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>C# only allows pointers to so-called native types, i.e. any primitive type (except <code>string</code>), enum, array or struct that is composed only of other native types. Note that pointers are only allowed in code blocks marked 'unsafe'.
</p>
<div class="mw-highlight mw-highlight-lang-csharp mw-content-ltr" dir="ltr"><pre><span></span> <span class="kt">float</span> <span class="n">pi</span> <span class="p">=</span> <span class="m">3.14159</span><span class="p">;</span>
 <span class="kt">uint</span> <span class="n">piAsRawData</span> <span class="p">=</span> <span class="p">*(</span><span class="kt">uint</span><span class="p">*)&amp;</span><span class="n">pi</span><span class="p">;</span>
</pre></div>
<h3><span class="mw-headline" id="Struct_unions">Struct unions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=7" title="Edit section: Struct unions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Struct unions are allowed without any notion of 'unsafe' code, but they do require the definition of a new type.
</p>
<div class="mw-highlight mw-highlight-lang-csharp mw-content-ltr" dir="ltr"><pre><span></span><span class="na"> [StructLayout(LayoutKind.Explicit)]</span>
 <span class="k">struct</span> <span class="nc">FloatAndUIntUnion</span>
 <span class="p">{</span>
<span class="na">     [FieldOffset(0)]</span>
     <span class="k">public</span> <span class="kt">float</span> <span class="n">DataAsFloat</span><span class="p">;</span>
<span class="na">     [FieldOffset(0)]</span>
     <span class="k">public</span> <span class="kt">uint</span> <span class="n">DataAsUInt</span><span class="p">;</span>
 <span class="p">}</span>

 <span class="c1">// ...</span>

 <span class="n">FloatAndUIntUnion</span> <span class="n">union</span><span class="p">;</span>
 <span class="n">union</span><span class="p">.</span><span class="n">DataAsFloat</span> <span class="p">=</span> <span class="m">3.14159</span><span class="p">;</span>
 <span class="kt">uint</span> <span class="n">piAsRawData</span> <span class="p">=</span> <span class="n">union</span><span class="p">.</span><span class="n">DataAsUInt</span><span class="p">;</span>
</pre></div>
<h3><span class="mw-headline" id="Raw_CIL_code">Raw CIL code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=8" title="Edit section: Raw CIL code">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Raw <a href="/wiki/Common_Intermediate_Language" title="Common Intermediate Language">CIL</a> can be used instead of C#, because it doesn't have most of the type limitations. This allows one to, for example, combine two enum values of a generic type:
</p>
<div class="mw-highlight mw-highlight-lang-csharp mw-content-ltr" dir="ltr"><pre><span></span> <span class="n">TEnum</span> <span class="n">a</span> <span class="p">=</span> <span class="p">...;</span>
 <span class="n">TEnum</span> <span class="n">b</span> <span class="p">=</span> <span class="p">...;</span>
 <span class="n">TEnum</span> <span class="n">combined</span> <span class="p">=</span> <span class="n">a</span> <span class="p">|</span> <span class="n">b</span><span class="p">;</span> <span class="c1">// illegal</span>
</pre></div>
<p>This can be circumvented by the following CIL code:
</p>
<div class="mw-highlight mw-highlight-lang-csharp mw-content-ltr" dir="ltr"><pre><span></span> <span class="p">.</span><span class="n">method</span> <span class="k">public</span> <span class="k">static</span> <span class="n">hidebysig</span>
     <span class="p">!!</span><span class="n">TEnum</span> <span class="n">CombineEnums</span><span class="p">&lt;</span><span class="n">valuetype</span> <span class="p">.</span><span class="n">ctor</span> <span class="p">([</span><span class="n">mscorlib</span><span class="p">]</span><span class="n">System</span><span class="p">.</span><span class="n">ValueType</span><span class="p">)</span> <span class="n">TEnum</span><span class="p">&gt;(</span>
         <span class="p">!!</span><span class="n">TEnum</span> <span class="n">a</span><span class="p">,</span>
         <span class="p">!!</span><span class="n">TEnum</span> <span class="n">b</span>
     <span class="p">)</span> <span class="n">cil</span> <span class="n">managed</span>
 <span class="p">{</span>
     <span class="p">.</span><span class="n">maxstack</span> <span class="m">2</span>

     <span class="n">ldarg</span><span class="p">.</span><span class="m">0</span> 
     <span class="n">ldarg</span><span class="p">.</span><span class="m">1</span>
     <span class="n">or</span>  <span class="c1">// this will not cause an overflow, because a and b have the same type, and therefore the same size.</span>
     <span class="n">ret</span>
 <span class="p">}</span>
</pre></div>
<p>The <code>cpblk</code> CIL opcode allows for some other tricks, such as converting a struct to a byte array:
</p>
<div class="mw-highlight mw-highlight-lang-csharp mw-content-ltr" dir="ltr"><pre><span></span> <span class="p">.</span><span class="n">method</span> <span class="k">public</span> <span class="k">static</span> <span class="n">hidebysig</span>
     <span class="n">uint8</span><span class="p">[]</span> <span class="n">ToByteArray</span><span class="p">&lt;</span><span class="n">valuetype</span> <span class="p">.</span><span class="n">ctor</span> <span class="p">([</span><span class="n">mscorlib</span><span class="p">]</span><span class="n">System</span><span class="p">.</span><span class="n">ValueType</span><span class="p">)</span> <span class="n">T</span><span class="p">&gt;(</span>
         <span class="p">!!</span><span class="n">T</span><span class="p">&amp;</span> <span class="n">v</span> <span class="c1">// &#39;ref T&#39; in C#</span>
     <span class="p">)</span> <span class="n">cil</span> <span class="n">managed</span>
 <span class="p">{</span>
     <span class="p">.</span><span class="n">locals</span> <span class="n">init</span> <span class="p">(</span>
<span class="na">         [0]</span> <span class="n">uint8</span><span class="p">[]</span>
     <span class="p">)</span>

     <span class="p">.</span><span class="n">maxstack</span> <span class="m">3</span>

     <span class="c1">// create a new byte array with length sizeof(T) and store it in local 0</span>
     <span class="k">sizeof</span> <span class="p">!!</span><span class="n">T</span>
     <span class="n">newarr</span> <span class="n">uint8</span>
     <span class="n">dup</span>           <span class="c1">// keep a copy on the stack for later (1)</span>
     <span class="n">stloc</span><span class="p">.</span><span class="m">0</span>

     <span class="n">ldc</span><span class="p">.</span><span class="n">i4</span><span class="p">.</span><span class="m">0</span>
     <span class="n">ldelema</span> <span class="n">uint8</span>

     <span class="c1">// memcpy(local 0, &amp;v, sizeof(T));</span>
     <span class="c1">// &lt;the array is still on the stack, see (1)&gt;</span>
     <span class="n">ldarg</span><span class="p">.</span><span class="m">0</span> <span class="c1">// this is the *address* of &#39;v&#39;, because its type is &#39;!!T&amp;&#39;</span>
     <span class="k">sizeof</span> <span class="p">!!</span><span class="n">T</span>
     <span class="n">cpblk</span>

     <span class="n">ldloc</span><span class="p">.</span><span class="m">0</span>
     <span class="n">ret</span>
 <span class="p">}</span>
</pre></div>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=9" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-ISOs6.5/7-1"><span class="mw-cite-backlink">^ <a href="#cite_ref-ISOs6.5/7_1-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-ISOs6.5/7_1-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text">ISO/IEC 9899:1999 s6.5/7</span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><b><a href="#cite_ref-2">^</a></b></span> <span class="reference-text"><cite class="citation">"§ 6.5.2.3/3, footnote 97", <a rel="nofollow" class="external text" href="https://web.archive.org/web/20181230041359if_/http://www.open-std.org/jtc1/sc22/wg14/www/abq/c17_updated_proposed_fdis.pdf"><i>ISO/IEC 9899:2018</i></a> <span class="cs1-format">(PDF)</span>, 2018, p.&#160;59, <q>If the member used to read the contents of a union object is not the same as the member last used to store a value in the object, the appropriate part of the object representation of the value is reinterpreted as an object representation in the new type as described in 6.2.6 (<i>a process sometimes called “type punning”</i>). <b>This might be a trap representation.</b></q></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=%C2%A7+6.5.2.3%2F3%2C+footnote+97&amp;rft.btitle=ISO%2FIEC+9899%3A2018&amp;rft.pages=59&amp;rft.date=2018&amp;rft_id=https%3A%2F%2Fweb.archive.org%2Fweb%2F20181230041359if_%2Fhttp%3A%2F%2Fwww.open-std.org%2Fjtc1%2Fsc22%2Fwg14%2Fwww%2Fabq%2Fc17_updated_proposed_fdis.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AType+punning" class="Z3988"></span><style data-mw-deduplicate="TemplateStyles:r935243608">.mw-parser-output cite.citation{font-style:inherit}.mw-parser-output .citation q{quotes:"\"""\"""'""'"}.mw-parser-output .id-lock-free a,.mw-parser-output .citation .cs1-lock-free a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/9px-Lock-green.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output .id-lock-limited a,.mw-parser-output .id-lock-registration a,.mw-parser-output .citation .cs1-lock-limited a,.mw-parser-output .citation .cs1-lock-registration a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Lock-gray-alt-2.svg/9px-Lock-gray-alt-2.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output .id-lock-subscription a,.mw-parser-output .citation .cs1-lock-subscription a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Lock-red-alt-2.svg/9px-Lock-red-alt-2.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output .cs1-subscription,.mw-parser-output .cs1-registration{color:#555}.mw-parser-output .cs1-subscription span,.mw-parser-output .cs1-registration span{border-bottom:1px dotted;cursor:help}.mw-parser-output .cs1-ws-icon a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Wikisource-logo.svg/12px-Wikisource-logo.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output code.cs1-code{color:inherit;background:inherit;border:inherit;padding:inherit}.mw-parser-output .cs1-hidden-error{display:none;font-size:100%}.mw-parser-output .cs1-visible-error{font-size:100%}.mw-parser-output .cs1-maint{display:none;color:#33aa33;margin-left:0.3em}.mw-parser-output .cs1-subscription,.mw-parser-output .cs1-registration,.mw-parser-output .cs1-format{font-size:95%}.mw-parser-output .cs1-kern-left,.mw-parser-output .cs1-kern-wl-left{padding-left:0.2em}.mw-parser-output .cs1-kern-right,.mw-parser-output .cs1-kern-wl-right{padding-right:0.2em}</style></span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><b><a href="#cite_ref-3">^</a></b></span> <span class="reference-text">
<cite class="citation">"§ J.1/1, bullet 11", <a rel="nofollow" class="external text" href="https://web.archive.org/web/20181230041359if_/http://www.open-std.org/jtc1/sc22/wg14/www/abq/c17_updated_proposed_fdis.pdf"><i>ISO/IEC 9899:2018</i></a> <span class="cs1-format">(PDF)</span>, 2018, p.&#160;403, <q>The following are unspecified: … The values of bytes that correspond to union members <i>other than the one last stored into</i> (6.2.6.1).</q></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=%C2%A7+J.1%2F1%2C+bullet+11&amp;rft.btitle=ISO%2FIEC+9899%3A2018&amp;rft.pages=403&amp;rft.date=2018&amp;rft_id=https%3A%2F%2Fweb.archive.org%2Fweb%2F20181230041359if_%2Fhttp%3A%2F%2Fwww.open-std.org%2Fjtc1%2Fsc22%2Fwg14%2Fwww%2Fabq%2Fc17_updated_proposed_fdis.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AType+punning" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><b><a href="#cite_ref-4">^</a></b></span> <span class="reference-text">ISO/IEC 14882:2011 Section 9.5</span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><b><a href="#cite_ref-5">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="https://gcc.gnu.org/bugs/#nonbugs">GCC: Non-Bugs</a></span>
</li>
</ol></div>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Type_punning&amp;action=edit&amp;section=10" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://gcc.gnu.org/onlinedocs/gcc-8.2.0/gcc/Optimize-Options.html#index-fstrict-aliasing">Section</a> of the <a href="/wiki/GNU_Compiler_Collection" title="GNU Compiler Collection">GCC</a> manual on <tt>-fstrict-aliasing</tt>, which defeats some type punning</li>
<li><a rel="nofollow" class="external text" href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/dr_257.htm">Defect Report 257</a> to the <a href="/wiki/C99" title="C99">C99</a> standard, incidentally defining "type punning" in terms of <code>union</code>, and discussing the issues surrounding the implementation-defined behavior of the last example above</li>
<li><a rel="nofollow" class="external text" href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/dr_283.htm">Defect Report 283</a> on the use of unions for type punning</li></ul>
<!-- 
NewPP limit report
Parsed by mw1372
Cached time: 20200401074802
Cache expiry: 2592000
Dynamic content: false
Complications: [vary‐revision‐sha1]
CPU time usage: 0.232 seconds
Real time usage: 0.327 seconds
Preprocessor visited node count: 543/1000000
Post‐expand include size: 36127/2097152 bytes
Template argument size: 8217/2097152 bytes
Highest expansion depth: 19/40
Expensive parser function count: 2/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 25176/5000000 bytes
Number of Wikibase entities loaded: 0/400
Lua time usage: 0.113/10.000 seconds
Lua memory usage: 3.42 MB/50 MB
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  272.781      1 -total
 74.13%  202.218      3 Template:Ambox
 60.08%  163.893      1 Template:Multiple_issues
 31.52%   85.971      2 Template:Citation
 27.58%   75.221      1 Template:Refimprove
 14.76%   40.270      1 Template:Find_sources_mainspace
  9.67%   26.367      1 Template:Manual
  6.61%   18.024      1 Template:DMCA
  5.40%   14.721      1 Template:Dated_maintenance_category
  3.63%    9.891      1 Template:FULLROOTPAGENAME
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:8077294-0!canonical and timestamp 20200401074802 and revision id 941900503
 -->
</div><noscript><img src="//en.wikipedia.org/wiki/Special:CentralAutoLogin/start?type=1x1" alt="" title="" width="1" height="1" style="border: none; position: absolute;" /></noscript></div>
		<div class="printfooter">Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=Type_punning&amp;oldid=941900503">https://en.wikipedia.org/w/index.php?title=Type_punning&amp;oldid=941900503</a>"</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="/wiki/Category:Programming_constructs" title="Category:Programming constructs">Programming constructs</a></li></ul></div><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul><li><a href="/wiki/Category:Articles_needing_additional_references_from_October_2011" title="Category:Articles needing additional references from October 2011">Articles needing additional references from October 2011</a></li><li><a href="/wiki/Category:All_articles_needing_additional_references" title="Category:All articles needing additional references">All articles needing additional references</a></li><li><a href="/wiki/Category:Wikipedia_articles_with_style_issues_from_October_2011" title="Category:Wikipedia articles with style issues from October 2011">Wikipedia articles with style issues from October 2011</a></li><li><a href="/wiki/Category:All_articles_with_style_issues" title="Category:All articles with style issues">All articles with style issues</a></li><li><a href="/wiki/Category:Articles_with_multiple_maintenance_issues" title="Category:Articles with multiple maintenance issues">Articles with multiple maintenance issues</a></li><li><a href="/wiki/Category:Articles_with_example_C_code" title="Category:Articles with example C code">Articles with example C code</a></li><li><a href="/wiki/Category:Articles_with_example_Pascal_code" title="Category:Articles with example Pascal code">Articles with example Pascal code</a></li></ul></div></div>
		<div class="visualClear"></div>
		
	</div>
</div>
<div id='mw-data-after-content'>
	<div class="read-more-container"></div>
</div>

<div id="mw-navigation">
    <h2>Navigation menu</h2>
    <div id="mw-head">
        
        <div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
        	<h3 id="p-personal-label">Personal tools</h3>
        	<ul >
        		
        		<li id="pt-anonuserpage">Not logged in</li>
        		<li id="pt-anontalk"><a href="/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs"><a href="/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=Type+punning" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Type+punning" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o">Log in</a></li>
        	</ul>
        </div>
        <div id="left-navigation">
            <div id="p-namespaces" role="navigation" class="vectorTabs " aria-labelledby="p-namespaces-label">
            	<h3 id="p-namespaces-label">Namespaces</h3>
            	<ul >
            		<li id="ca-nstab-main" class="selected"><a href="/wiki/Type_punning" title="View the content page [c]" accesskey="c">Article</a></li><li id="ca-talk"><a href="/wiki/Talk:Type_punning" rel="discussion" title="Discuss improvements to the content page [t]" accesskey="t">Talk</a></li>
            	</ul>
            </div>
            <div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
            	<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
            	<h3 id="p-variants-label">
            		<span>Variants</span>
            	</h3>
            	<ul class="menu" >
            		
            	</ul>
            </div>
        </div>
        <div id="right-navigation">
            <div id="p-views" role="navigation" class="vectorTabs " aria-labelledby="p-views-label">
            	<h3 id="p-views-label">Views</h3>
            	<ul >
            		<li id="ca-view" class="collapsible selected"><a href="/wiki/Type_punning">Read</a></li><li id="ca-edit" class="collapsible"><a href="/w/index.php?title=Type_punning&amp;action=edit" title="Edit this page [e]" accesskey="e">Edit</a></li><li id="ca-history" class="collapsible"><a href="/w/index.php?title=Type_punning&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li>
            	</ul>
            </div>
            <div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
            	<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
            	<h3 id="p-cactions-label">
            		<span>More</span>
            	</h3>
            	<ul class="menu" >
            		
            	</ul>
            </div>
            <div id="p-search" role="search">
            	<h3 >
            		<label for="searchInput">Search</label>
            	</h3>
            	<form action="/w/index.php" id="searchform">
            		<div id="simpleSearch">
            			<input type="search" name="search" placeholder="Search Wikipedia" title="Search Wikipedia [f]" accesskey="f" id="searchInput"/>
            			<input type="hidden" value="Special:Search" name="title"/>
            			<input type="submit" name="fulltext" value="Search" title="Search Wikipedia for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
            			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
            		</div>
            	</form>
            </div>
        </div>
    </div>
    
    <div id="mw-panel">
    	<div id="p-logo" role="banner">
    		<a  title="Visit the main page" class="mw-wiki-logo" href="/wiki/Main_Page"></a>
    	</div>
    	<div class="portal" role="navigation" id="p-navigation"  aria-labelledby="p-navigation-label">
    		<h3  id="p-navigation-label">
    			Navigation
    		</h3>
    		<div class="body">
    			<ul><li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-contents"><a href="/wiki/Wikipedia:Contents" title="Guides to browsing Wikipedia">Contents</a></li><li id="n-featuredcontent"><a href="/wiki/Wikipedia:Featured_content" title="Featured content – the best of Wikipedia">Featured content</a></li><li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li><li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li><li id="n-sitesupport"><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=C13_en.wikipedia.org&amp;uselang=en" title="Support us">Donate to Wikipedia</a></li><li id="n-shoplink"><a href="//shop.wikimedia.org" title="Visit the Wikipedia store">Wikipedia store</a></li></ul>
    			
    		</div>
    	</div>
    	
    	<div class="portal" role="navigation" id="p-interaction"  aria-labelledby="p-interaction-label">
    		<h3  id="p-interaction-label">
    			Interaction
    		</h3>
    		<div class="body">
    			<ul><li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li><li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li><li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-contactpage"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact page</a></li></ul>
    			
    		</div>
    	</div>
    	
    	<div class="portal" role="navigation" id="p-tb"  aria-labelledby="p-tb-label">
    		<h3  id="p-tb-label">
    			Tools
    		</h3>
    		<div class="body">
    			<ul><li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Type_punning" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Type_punning" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-permalink"><a href="/w/index.php?title=Type_punning&amp;oldid=941900503" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="/w/index.php?title=Type_punning&amp;action=info" title="More information about this page">Page information</a></li><li id="t-wikibase"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q7860909" title="Link to connected data repository item [g]" accesskey="g">Wikidata item</a></li><li id="t-cite"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=Type_punning&amp;id=941900503&amp;wpFormIdentifier=titleform" title="Information on how to cite this page">Cite this page</a></li></ul>
    			
    		</div>
    	</div>
    	
    	<div class="portal" role="navigation" id="p-coll-print_export"  aria-labelledby="p-coll-print_export-label">
    		<h3  id="p-coll-print_export-label">
    			Print/export
    		</h3>
    		<div class="body">
    			<ul><li id="coll-create_a_book"><a href="/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=Type+punning">Create a book</a></li><li id="coll-download-as-rl"><a href="/w/index.php?title=Special:ElectronPdf&amp;page=Type+punning&amp;action=show-download-screen">Download as PDF</a></li><li id="t-print"><a href="/w/index.php?title=Type_punning&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li></ul>
    			
    		</div>
    	</div>
    	
    	<div class="portal" role="navigation" id="p-lang"  aria-labelledby="p-lang-label">
    		<h3  id="p-lang-label">
    			Languages
    		</h3>
    		<div class="body">
    			<ul><li class="interlanguage-link interwiki-ru"><a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%BB%D0%B0%D0%BC%D0%B1%D1%83%D1%80_%D1%82%D0%B8%D0%BF%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8" title="Каламбур типизации – Russian" lang="ru" hreflang="ru" class="interlanguage-link-target">Русский</a></li><li class="interlanguage-link interwiki-zh"><a href="https://zh.wikipedia.org/wiki/%E7%B1%BB%E5%9E%8B%E5%8F%8C%E5%85%B3" title="类型双关 – Chinese" lang="zh" hreflang="zh" class="interlanguage-link-target">中文</a></li></ul>
    			<div class="after-portlet after-portlet-lang"><span class="wb-langlinks-edit wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q7860909#sitelinks-wikipedia" title="Edit interlanguage links" class="wbc-editpage">Edit links</a></span></div>
    		</div>
    	</div>
    	
    </div>
</div>

<div id="footer" role="contentinfo" >
	<ul id="footer-info" class="">
		<li id="footer-info-lastmod"> This page was last edited on 21 February 2020, at 09:59<span class="anonymous-show">&#160;(UTC)</span>.</li>
		<li id="footer-info-copyright">Text is available under the <a rel="license" href="//en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License">Creative Commons Attribution-ShareAlike License</a><a rel="license" href="//creativecommons.org/licenses/by-sa/3.0/" style="display:none;"></a>;
additional terms may apply.  By using this site, you agree to the <a href="//foundation.wikimedia.org/wiki/Terms_of_Use">Terms of Use</a> and <a href="//foundation.wikimedia.org/wiki/Privacy_policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a href="//www.wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
	</ul>
	<ul id="footer-places" class="">
		<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Privacy_policy" class="extiw" title="wmf:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
		<li id="footer-places-disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
		<li id="footer-places-contact"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
		<li id="footer-places-developers"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
		<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/en.wikipedia.org">Statistics</a></li>
		<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Cookie_statement">Cookie statement</a></li>
		<li id="footer-places-mobileview"><a href="//en.m.wikipedia.org/w/index.php?title=Type_punning&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="https://wikimediafoundation.org/"><img src="/static/images/wikimedia-button.png" srcset="/static/images/wikimedia-button-1.5x.png 1.5x, /static/images/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation"/></a></li>
		<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/static/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/poweredby_mediawiki_132x47.png 1.5x, /static/images/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</div>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.232","walltime":"0.327","ppvisitednodes":{"value":543,"limit":1000000},"postexpandincludesize":{"value":36127,"limit":2097152},"templateargumentsize":{"value":8217,"limit":2097152},"expansiondepth":{"value":19,"limit":40},"expensivefunctioncount":{"value":2,"limit":500},"unstrip-depth":{"value":1,"limit":20},"unstrip-size":{"value":25176,"limit":5000000},"entityaccesscount":{"value":0,"limit":400},"timingprofile":["100.00%  272.781      1 -total"," 74.13%  202.218      3 Template:Ambox"," 60.08%  163.893      1 Template:Multiple_issues"," 31.52%   85.971      2 Template:Citation"," 27.58%   75.221      1 Template:Refimprove"," 14.76%   40.270      1 Template:Find_sources_mainspace","  9.67%   26.367      1 Template:Manual","  6.61%   18.024      1 Template:DMCA","  5.40%   14.721      1 Template:Dated_maintenance_category","  3.63%    9.891      1 Template:FULLROOTPAGENAME"]},"scribunto":{"limitreport-timeusage":{"value":"0.113","limit":"10.000"},"limitreport-memusage":{"value":3584266,"limit":52428800}},"cachereport":{"origin":"mw1372","timestamp":"20200401074802","ttl":2592000,"transientcontent":false}}});});</script>
<script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Article","name":"Type punning","url":"https:\/\/en.wikipedia.org\/wiki\/Type_punning","sameAs":"http:\/\/www.wikidata.org\/entity\/Q7860909","mainEntity":"http:\/\/www.wikidata.org\/entity\/Q7860909","author":{"@type":"Organization","name":"Contributors to Wikimedia projects"},"publisher":{"@type":"Organization","name":"Wikimedia Foundation, Inc.","logo":{"@type":"ImageObject","url":"https:\/\/www.wikimedia.org\/static\/images\/wmf-hor-googpub.png"}},"datePublished":"2006-11-23T00:30:25Z","dateModified":"2020-02-21T09:59:09Z","headline":"common term for any programming technique that subverts or circumvents the type system of a programming language"}</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":119,"wgHostname":"mw1321"});});</script></body></html>
